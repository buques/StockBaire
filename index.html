<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stock Baire - Tienda Online</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f5f5f5;
            color: #333;
        }
        
        .gradient-header {
            background: linear-gradient(90deg,#1abc9c,#1f2c51);
        }
        
        .product-card {
            transition: all 0.3s ease;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            border-radius: 12px;
            overflow: hidden;
        }
        
        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        
        .price-tag {
            color: #ef4444;
            font-weight: 600;
        }
        
        .discount-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: #ef4444;
            color: white;
            padding: 3px 8px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }
        
        .add-to-cart-btn {
            background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 100%);
            transition: all 0.3s ease;
        }
        
        .add-to-cart-btn:hover {
            opacity: 0.9;
            transform: translateY(-2px);
        }
        
        .category-item {
            transition: all 0.3s ease;
        }
        
        .category-item.active {
            color: #4f46e5;
            font-weight: 600;
            border-bottom: 2px solid #4f46e5;
        }
        
        .carousel-slide {
            transition: transform 0.5s ease;
        }
        
        .floating-cart {
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }
        
        .floating-cart:hover {
            transform: scale(1.05);
        }
        
        .notification-badge {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.2);
            }
            100% {
                transform: scale(1);
            }
        }
        
        .search-bar {
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
        }
        
        .search-bar:focus-within {
            box-shadow: 0 4px 15px rgba(79, 70, 229, 0.2);
        }
        
        .promo-banner {
            background: linear-gradient(135deg, #f97316 0%, #f59e0b 100%);
            animation: bannerPulse 3s infinite;
        }
        
        @keyframes bannerPulse {
            0% {
                box-shadow: 0 4px 15px rgba(249, 115, 22, 0.3);
                transform: scale(1);
            }
            50% {
                box-shadow: 0 6px 25px rgba(249, 115, 22, 0.5);
                transform: scale(1.02);
            }
            100% {
                box-shadow: 0 4px 15px rgba(249, 115, 22, 0.3);
                transform: scale(1);
            }
        }
        
        .bottom-nav {
            box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(10px);
        }
        
        .nav-item {
            transition: all 0.3s ease;
        }
        
        .nav-item:hover {
            color: #4f46e5;
            transform: translateY(-5px);
        }
        
        .modal-overlay {
            background: rgba(0,0,0,0.5);
            backdrop-filter: blur(5px);
        }
        
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 3px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: #555;
        }
        
        .product-details-img {
            max-height: 300px;
            width: 100%;
            object-fit: contain;
        }
        
        .quantity-btn {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color:#D3D3D3;
            border-radius: 50%;
            cursor: pointer;
        }
       .promo-banner {
  background: linear-gradient(135deg, #f97316 0%, #f59e0b 100%);
  animation: bannerPulse 3s infinite;
  overflow: hidden;
  position: relative;
  padding: 12px 20px;
  border-radius: 0.5rem; /* borde redondeado */
}

.promo-main-row {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.75rem;
  margin-bottom: 8px;
  flex-wrap: wrap; /* para que en móviles se ajusten */
}

.promo-main-content {
  display: flex;
  align-items: center;
  gap: 0.75rem;
}

.gift-icon {
  font-size: 1.75rem;
  animation: swing 2s ease-in-out infinite;
}

.promo-main-text {
  font-size: 1.25rem;
  font-weight: 700;
  white-space: nowrap;
  text-shadow: 0 0 5px rgba(0, 0, 0, 0.15);
}

button.view-more {
  font-size: 0.75rem;
  font-weight: 600;
  text-decoration: underline;
  color: white;
  transition: color 0.3s ease;
  white-space: nowrap;
  background: transparent;
  border: none;
  cursor: pointer;
  padding: 0;
  align-self: center;
}

button.view-more:hover {
  color: #ffeb3b;
}

.promo-secondary-container {
  width: 100%;
  height: 18px;
  position: relative;
  overflow: hidden;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 0 12px;
  box-sizing: border-box;
}

.sliding-text {
  position: absolute;
  width: 100%;
  text-align: center;
  opacity: 0;
  transform: translateY(20px);
  transition: opacity 0.7s ease, transform 0.7s ease;
  font-size: 0.875rem;
  font-weight: 500;
  white-space: nowrap;
  color: #fff9c4;
  text-shadow: 0 0 4px rgba(0, 0, 0, 0.2);
  overflow: hidden;
  text-overflow: ellipsis;
  padding: 0 10px;
  box-sizing: border-box;
}

.sliding-text.active {
  opacity: 1;
  transform: translateY(0);
}

@keyframes swing {
  0%,
  100% {
    transform: rotate(0deg);
  }
  20% {
    transform: rotate(15deg);
  }
  40% {
    transform: rotate(-10deg);
  }
  60% {
    transform: rotate(5deg);
  }
  80% {
    transform: rotate(-5deg);
  }
}

@keyframes bannerPulse {
  0% {
    box-shadow: 0 4px 15px rgba(249, 115, 22, 0.3);
  }
  50% {
    box-shadow: 0 6px 25px rgba(249, 115, 22, 0.5);
  }
  100% {
    box-shadow: 0 4px 15px rgba(249, 115, 22, 0.3);
  }
}

/* Media queries para móviles */
@media (max-width: 480px) {
  .promo-main-text {
    font-size: 1rem;
  }

  .promo-secondary-container {
    height: 24px;
  }

  .sliding-text {
    font-size: 0.75rem;
  }
}
 
/* Selector de Moneda Optimizado */
.currency-selector {
    background: rgba(255, 255, 255, 0.2);
    border-radius: 16px;
    padding: 6px 12px;
    font-size: 13px;
    font-weight: 500;
    cursor: pointer;
    transition: all 0.3s ease;
    color: white;
    display: flex;
    align-items: center;
    gap: 6px;
    border: 1px solid rgba(255, 255, 255, 0.25);
    height: 36px;
    margin-right: 8px;
}

.currency-selector:hover {
    background: rgba(255, 255, 255, 0.3);
}

.currency-options {
    position: absolute;
    top: 100%;
    right: 0;
    background: white;
    border-radius: 10px;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
    padding: 8px 0;
    z-index: 100;
    min-width: 200px;
    margin-top: 6px;
    display: none;
    border: 1px solid #e2e8f0;
    animation: fadeIn 0.2s ease-out;
}

.currency-options.show {
    display: block;
}

.currency-option {
    padding: 10px 16px;
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    color: #334155;
    font-size: 13px;
}

.currency-option:hover {
    background: #f1f5f9;
}

.currency-option.active {
    background: #f8fafc;
    color: #4f46e5;
    font-weight: 500;
}

.currency-badge {
    background: rgba(79, 70, 229, 0.1);
    color: #4f46e5;
    padding: 3px 8px;
    border-radius: 10px;
    font-size: 10px;
    font-weight: 500;
    margin-left: 8px;
}

.currency-icon {
    margin-right: 8px;
    font-size: 12px;
    width: 16px;
    text-align: center;
}

.currency-details {
    display: flex;
    align-items: center;
    justify-content: space-between;
    flex: 1;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(-8px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}
     </style>
 </head>
 <body class="pb-20">
     <!-- Floating Cart Button -->
     <button id="floatingCartBtn" class="fixed bottom-24 right-5 z-50 bg-indigo-600 text-white w-14 h-14 rounded-full flex items-center justify-center floating-cart">
         <i class="fas fa-shopping-cart text-xl"></i>
         <span id="cartBadge" class="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center notification-badge hidden">0</span>
     </button>
 
     <!-- Header -->
     <header class="gradient-header text-white shadow-lg">
         <div class="container mx-auto px-4 py-4">
 <div class="flex items-center justify-between">
     <div class="flex items-center space-x-2">
         <img src="https://img.icons8.com/?size=100&id=AgFKmAmo11FB&format=png&color=ffffff" alt="Logo" class="w-10">
         <h1 class="text-xl font-bold">Stock Baire</h1>
     </div>
     <div class="flex items-center space-x-4">
         <!-- Selector de Moneda Mejorado -->
         <div class="relative">
             <div id="currencySelector" class="currency-selector flex items-center">
                 <i class="fas fa-dollar-sign text-xs"></i>
                 <span id="currentCurrency">USD</span>
                 <i class="fas fa-chevron-down ml-1 text-xs"></i>
             </div>
             <div id="currencyOptions" class="currency-options">
                 <div class="currency-option active" data-currency="USD">
                     <i class="fas fa-dollar-sign currency-icon"></i>
                     <div class="currency-details">
                         <span>Dólar Estadounidense</span>
                         <span class="currency-badge">Predeterminado</span>
                     </div>
                 </div>
                 <div class="currency-option" data-currency="CUP">
                     <i class="fas fa-peso-sign currency-icon"></i>
                     <div class="currency-details">
                         <span>Peso Cubano</span>
                         <span class="currency-badge">1:400</span>
                     </div>
                 </div>
                 <div class="currency-option" data-currency="CUPT">
                     <i class="fas fa-money-bill-transfer currency-icon"></i>
                     <div class="currency-details">
                         <span>CUP Transferencia</span>
                         <span class="currency-badge">1:440</span>
                     </div>
                 </div>
             </div>
         </div>
         
         <button class="p-2 text-white">
             <i class="fas fa-search"></i>
         </button>
         <button class="p-2 text-white">
             <i class="fas fa-user"></i>
         </button>
     </div>
 </div>
            
            <!-- Search Bar -->
            <div class="mt-4 relative">
                <div class="search-bar bg-white rounded-full flex items-center px-4 py-2">
                    <input type="text" placeholder="Buscar productos..." class="w-full outline-none text-gray-700">
                    <button class="text-indigo-600"><i class="fas fa-search"></i></button>
                </div>
            </div>
        </div>
        
        <!-- Categories Navigation -->
        <div class="overflow-x-auto whitespace-nowrap py-2 scrollbar-hide">
            <div class="inline-flex space-x-8 px-4">
                <button onclick="filterProducts('all')" class="category-item filter-active inline-block px-2 py-2 active text-indigo-300">Todos</button>
                <button onclick="filterProducts('phones')" class="category-item inline-block px-2 py-2">Teléfonos</button>
                <button onclick="filterProducts('laptops')" class="category-item inline-block px-2 py-2">Laptops</button>
                <button onclick="filterProducts('watches')" class="category-item inline-block px-2 py-2">Smartwatches</button>
                <button onclick="filterProducts('accessories')" class="category-item inline-block px-2 py-2">Accesorios</button>
                <button onclick="filterProducts('home')" class="category-item inline-block px-2 py-2">Hogar</button>
                <button onclick="filterProducts('electronics')" class="category-item inline-block px-2 py-2">Electrónica</button>
            </div>
        </div>
    </header>

     <!-- Banner promocional mejorado -->
     <div class="promo-banner text-white mx-4 my-4 rounded-lg">
       <div class="promo-main-row">
         <div class="promo-main-content" aria-label="Título del banner">
           <i class="fas fa-gift gift-icon" aria-hidden="true"></i>
           <span class="promo-main-text">Recarga Internacional</span>
         </div>
         <button class="view-more" aria-label="Ver más detalles del banner">Ver más</button>
       </div>
       <div class="promo-secondary-container" aria-live="polite" aria-atomic="true">
         <span class="sliding-text active">Válido hasta 30/8/2025</span>
         <span class="sliding-text">Por 27 usd recibes Internet de 12 a 7 y 300 saldo</span>
         <span class="sliding-text">Disponible en Baire</span>
       </div>
     </div>

    <!-- Carousel -->
    <div class="relative mx-4 mb-6 h-48 rounded-xl overflow-hidden">
        <div class="flex carousel-slide">
            <div class="min-w-full">
                <img src="https://i.postimg.cc/0Qt8zV3R/IMG-20250828-WA0010.jpg" alt="Promoción 1" class="w-full h-48 object-cover">
            </div>
            <div class="min-w-full">
                <img src="https://i.postimg.cc/tJFsLq9B/Grid-Art-20240826-185851668.jpg" alt="Promoción 2" class="w-full h-48 object-cover">
            </div>
            <div class="min-w-full">
                <img src="https://i.postimg.cc/J4xxxyz0/9e3e37b0-986d-4546-a7e0-e96dddf739e4-CR0-0-970-600-PT0-SX970-V1.jpg" alt="Promoción 3" class="w-full h-48 object-cover">
            </div>
        </div>
        <button id="prevBtn" class="absolute left-2 top-1/2 transform -translate-y-1/2 bg-white bg-opacity-80 text-indigo-600 w-8 h-8 rounded-full flex items-center justify-center hover:bg-opacity-100 transition-all">
            <i class="fas fa-chevron-left"></i>
        </button>
        <button id="nextBtn" class="absolute right-2 top-1/2 transform -translate-y-1/2 bg-white bg-opacity-80 text-indigo-600 w-8 h-8 rounded-full flex items-center justify-center hover:bg-opacity-100 transition-all">
            <i class="fas fa-chevron-right"></i>
        </button>
        <div class="absolute bottom-2 left-0 right-0 flex justify-center space-x-1">
            <div class="w-2 h-2 bg-white rounded-full indicator active"></div>
            <div class="w-2 h-2 bg-white bg-opacity-50 rounded-full indicator"></div>
            <div class="w-2 h-2 bg-white bg-opacity-50 rounded-full indicator"></div>
        </div>
    </div>

    <!-- Products Grid -->
    <div class="container mx-auto px-4">
        <h2 id="currentCategory" class="text-xl font-bold mb-4">Todos los Productos</h2>
        <div id="productsContainer" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4">
            <!-- Product Card 1 -->
            <div class="product-card bg-white product-item" data-category="phones">
                <div class="relative">
                    <img src="https://i.postimg.cc/85HJTmjZ/samsung-galaxy-a05.webp" alt="Samsung Galaxy A05" class="w-full h-40 object-contain p-4 cursor-pointer" onclick="openProductModal('Samsung Galaxy A05 128GB Negro Liberado', 140, 165, 'Samsung Galaxy A05 128GB Negro Liberado', 'https://i.postimg.cc/85HJTmjZ/samsung-galaxy-a05.webp')">
                    <span class="discount-badge">-15%</span>
                </div>
                <div class="p-3">
                    <h3 class="font-semibold text-sm line-clamp-2">Samsung Galaxy A05 128GB Negro Liberado</h3>
                    <div class="flex items-center mt-1">
                        <span class="price-tag text-lg">$140</span>
                        <span class="text-xs text-gray-500 line-through ml-2">$165</span>
                    </div>
                    <div class="flex items-center mt-1">
                        <div class="flex text-yellow-400 text-xs">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star-half-alt"></i>
                        </div>
                        <span class="text-xs text-gray-500 ml-1">(128)</span>
                    </div>
                    <button onclick="addToCart('Samsung Galaxy A05 128GB Negro Liberado', 140, 'https://i.postimg.cc/85HJTmjZ/samsung-galaxy-a05.webp')" class="add-to-cart-btn text-white w-full py-2 rounded-lg mt-3 text-sm font-medium flex items-center justify-center">
                        <i class="fas fa-shopping-cart mr-2"></i> Añadir
                    </button>
                </div>
            </div>
            
            <!-- Product Card 2 -->
            <div class="product-card bg-white product-item" data-category="phones">
                <div class="relative">
                    <img src="https://i.postimg.cc/Pr4jKV03/samsung-galaxy-f15.webp" alt="Samsung Galaxy F15" class="w-full h-40 object-contain p-4 cursor-pointer" onclick="openProductModal('Samsung Galaxy F15 (4/128GB) Liberado', 190, 210, 'Samsung Galaxy F15 (4/128GB) Liberado, con pantalla Super AMOLED de 6.5", cámara triple de 50MP, batería de 6000mAh y carga rápida de 25W.', 'https://i.postimg.cc/Pr4jKV03/samsung-galaxy-f15.webp')">
                    <span class="discount-badge">-10%</span>
                </div>
                <div class="p-3">
                    <h3 class="font-semibold text-sm line-clamp-2">Samsung Galaxy F15 (4/128GB) Liberado</h3>
                    <div class="flex items-center mt-1">
                        <span class="price-tag text-lg">$190</span>
                        <span class="text-xs text-gray-500 line-through ml-2">$210</span>
                    </div>
                    <div class="flex items-center mt-1">
                        <div class="flex text-yellow-400 text-xs">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="far fa-star"></i>
                        </div>
                        <span class="text-xs text-gray-500 ml-1">(87)</span>
                    </div>
                    <button onclick="addToCart('Samsung Galaxy F15 (4/128GB) Liberado', 190, 'https://i.postimg.cc/Pr4jKV03/samsung-galaxy-f15.webp')" class="add-to-cart-btn text-white w-full py-2 rounded-lg mt-3 text-sm font-medium flex items-center justify-center">
                        <i class="fas fa-shopping-cart mr-2"></i> Añadir
                    </button>
                </div>
            </div>
            
            <!-- Product Card 3 -->
            <div class="product-card bg-white product-item" data-category="laptops">
                <div class="relative">
                    <img src="https://i.postimg.cc/GmPTdW2P/51-D9-Uc-DF4i-L.jpg" alt="HP EliteBook 835 G7" class="w-full h-40 object-contain p-4 cursor-pointer" onclick="openProductModal('Portátil HP EliteBook 835 G7 Ryzen 7/16GB/512GB', 420, 560, 'Portátil HP EliteBook 835 G7 con procesador AMD Ryzen 7 Pro 4750U, 16GB RAM, 512GB SSD, pantalla Full HD de 13.3", Windows 10 Pro, peso ligero de solo 1.34kg.', 'https://i.postimg.cc/GmPTdW2P/51-D9-Uc-DF4i-L.jpg')">
                    <span class="discount-badge">-25%</span>
                </div>
                <div class="p-3">
                    <h3 class="font-semibold text-sm line-clamp-2">Portátil HP EliteBook 835 G7 Ryzen 7/16GB/512GB</h3>
                    <div class="flex items-center mt-1">
                        <span class="price-tag text-lg">$420</span>
                        <span class="text-xs text-gray-500 line-through ml-2">$560</span>
                    </div>
                    <div class="flex items-center mt-1">
                        <div class="flex text-yellow-400 text-xs">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                        </div>
                        <span class="text-xs text-gray-500 ml-1">(64)</span>
                    </div>
                    <button onclick="addToCart('Portátil HP EliteBook 835 G7 Ryzen 7/16GB/512GB', 420, 'https://i.postimg.cc/GmPTdW2P/51-D9-Uc-DF4i-L.jpg')" class="add-to-cart-btn text-white w-full py-2 rounded-lg mt-3 text-sm font-medium flex items-center justify-center">
                        <i class="fas fa-shopping-cart mr-2"></i> Añadir
                    </button>
                </div>
            </div>
            
            <!-- Product Card 4 -->
            <div class="product-card bg-white product-item" data-category="laptops">
                <div class="relative">
                    <img src="https://i.postimg.cc/d0ddkh4C/6409-dell-latitude-5510-intel-core-i5-10210u-8gb-256gb-ssd-156-opiniones.webp" alt="Dell Latitude 5510" class="w-full h-40 object-contain p-4 cursor-pointer" onclick="openProductModal('Dell Latitude 5510 i5/8GB/256GB SSD 15.6"', 380, 0, 'Dell Latitude 5510 con procesador Intel Core i5-10210U, 8GB RAM, 256GB SSD, pantalla Full HD de 15.6", Windows 10 Pro, diseño resistente y duradero para negocios.', 'https://i.postimg.cc/d0ddkh4C/6409-dell-latitude-5510-intel-core-i5-10210u-8gb-256gb-ssd-156-opiniones.webp')">
                </div>
                <div class="p-3">
                    <h3 class="font-semibold text-sm line-clamp-2">Dell Latitude 5510 i5/8GB/256GB SSD 15.6"</h3>
                    <div class="flex items-center mt-1">
                        <span class="price-tag text-lg">$380</span>
                    </div>
                    <div class="flex items-center mt-1">
                        <div class="flex text-yellow-400 text-xs">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star-half-alt"></i>
                        </div>
                        <span class="text-xs text-gray-500 ml-1">(92)</span>
                    </div>
                    <button onclick="addToCart('Dell Latitude 5510 i5/8GB/256GB SSD 15.6"', 380, 'https://i.postimg.cc/d0ddkh4C/6409-dell-latitude-5510-intel-core-i5-10210u-8gb-256gb-ssd-156-opiniones.webp')" class="add-to-cart-btn text-white w-full py-2 rounded-lg mt-3 text-sm font-medium flex items-center justify-center">
                        <i class="fas fa-shopping-cart mr-2"></i> Añadir
                    </button>
                </div>
            </div>
            
            <!-- Product Card 5 -->
            <div class="product-card bg-white product-item" data-category="watches">
                <div class="relative">
                    <img src="https://i.postimg.cc/3wrdG6gp/41ywz3v-Okm-L-AC-UF1000-1000-QL80-FMwebp.webp" alt="Samsung Galaxy Fit 3" class="w-full h-40 object-contain p-4 cursor-pointer" onclick="openProductModal('Samsung Galaxy Fit 3 - Smartwatch', 85, 105, 'Samsung Galaxy Fit 3 con pantalla AMOLED de 1.6", monitor de frecuencia cardíaca, SpO2, seguimiento del sueño, resistencia al agua IP68 y hasta 13 días de duración de batería.', 'https://i.postimg.cc/3wrdG6gp/41ywz3v-Okm-L-AC-UF1000-1000-QL80-FMwebp.webp')">
                    <span class="discount-badge">-20%</span>
                </div>
                <div class="p-3">
                    <h3 class="font-semibold text-sm line-clamp-2">Samsung Galaxy Fit 3 - Smartwatch</h3>
                    <div class="flex items-center mt-1">
                        <span class="price-tag text-lg">$85</span>
                        <span class="text-xs text-gray-500 line-through ml-2">$105</span>
                    </div>
                    <div class="flex items-center mt-1">
                        <div class="flex text-yellow-400 text-xs">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="far fa-star"></i>
                        </div>
                        <span class="text-xs text-gray-500 ml-1">(43)</span>
                    </div>
                    <button onclick="addToCart('Samsung Galaxy Fit 3 - Smartwatch', 85, 'https://i.postimg.cc/3wrdG6gp/41ywz3v-Okm-L-AC-UF1000-1000-QL80-FMwebp.webp')" class="add-to-cart-btn text-white w-full py-2 rounded-lg mt-3 text-sm font-medium flex items-center justify-center">
                        <i class="fas fa-shopping-cart mr-2"></i> Añadir
                    </button>
                </div>
            </div>
            
            <!-- Product Card 6 -->
            <div class="product-card bg-white product-item" data-category="watches">
                <div class="relative">
                    <img src="https://i.postimg.cc/qvw7pL97/61-W2-IBA1rf-L-AC-UF894-1000-QL80-FMwebp.webp" alt="Kumi GW5 Smartwatch" class="w-full h-40 object-contain p-4 cursor-pointer" onclick="openProductModal('Kumi GW5 Smartwatch Negro', 55, 80, 'Kumi GW5 Smartwatch con pantalla táctil a color de 1.69", monitoreo de frecuencia cardíaca, presión arterial, SpO2, múltiples modos deportivos y resistencia al agua IP67.', 'https://i.postimg.cc/qvw7pL97/61-W2-IBA1rf-L-AC-UF894-1000-QL80-FMwebp.webp')">
                    <span class="discount-badge">-30%</span>
                </div>
                <div class="p-3">
                    <h3 class="font-semibold text-sm line-clamp-2">Kumi GW5 Smartwatch Negro</h3>
                    <div class="flex items-center mt-1">
                        <span class="price-tag text-lg">$55</span>
                        <span class="text-xs text-gray-500 line-through ml-2">$80</span>
                    </div>
                    <div class="flex items-center mt-1">
                        <div class="flex text-yellow-400 text-xs">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star-half-alt"></i>
                            <i class="far fa-star"></i>
                        </div>
                        <span class="text-xs text-gray-500 ml-1">(76)</span>
                    </div>
                    <button onclick="addToCart('Kumi GW5 Smartwatch Negro', 55, 'https://i.postimg.cc/qvw7pL97/61-W2-IBA1rf-L-AC-UF894-1000-QL80-FMwebp.webp')" class="add-to-cart-btn text-white w-full py-2 rounded-lg mt-3 text-sm font-medium flex items-center justify-center">
                        <i class="fas fa-shopping-cart mr-2"></i> Añadir
                    </button>
                </div>
            </div>
            
            <!-- Product Card 7 - Electronics -->
            <div class="product-card bg-white product-item" data-category="electronics">
                <div class="relative">
                    <img src="https://i.postimg.cc/mrR8xYVQ/81-IY4-Ct2kw-L-AC-UF1000-1000-QL80-FMwebp.webp" alt="Audífonos Bluetooth" class="w-full h-40 object-contain p-4 cursor-pointer" onclick="openProductModal('Audífonos Bluetooth Inalámbricos', 35, 50, 'Audífonos Bluetooth con cancelación de ruido, sonido estéreo HD, batería de larga duración (20 horas) y diseño cómodo para todo tipo de oídos.', 'https://i.postimg.cc/mrR8xYVQ/81-IY4-Ct2kw-L-AC-UF1000-1000-QL80-FMwebp.webp')">
                    <span class="discount-badge">-30%</span>
                </div>
                <div class="p-3">
                    <h3 class="font-semibold text-sm line-clamp-2">Audífonos Bluetooth Inalámbricos</h3>
                    <div class="flex items-center mt-1">
                        <span class="price-tag text-lg">$35</span>
                        <span class="text-xs text-gray-500 line-through ml-2">$50</span>
                    </div>
                    <div class="flex items-center mt-1">
                        <div class="flex text-yellow-400 text-xs">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star-half-alt"></i>
                        </div>
                        <span class="text-xs text-gray-500 ml-1">(68)</span>
                    </div>
                    <button onclick="addToCart('Audífonos Bluetooth Inalámbricos', 35, 'https://i.postimg.cc/mrR8xYVQ/81-IY4-Ct2kw-L-AC-UF1000-1000-QL80-FMwebp.webp')" class="add-to-cart-btn text-white w-full py-2 rounded-lg mt-3 text-sm font-medium flex items-center justify-center">
                        <i class="fas fa-shopping-cart mr-2"></i> Añadir
                    </button>
                </div>
            </div>
            
            <!-- Product Card 8 - Home -->
            <div class="product-card bg-white product-item" data-category="home">
                <div class="relative">
                    <img src="https://i.postimg.cc/C1RrX0JY/61-EFQ6f0-Xx-L-AC-UF1000-1000-QL80-FMwebp.webp" alt="Robot Aspirador" class="w-full h-40 object-contain p-4 cursor-pointer" onclick="openProductModal('Robot Aspirador Inteligente', 120, 180, 'Robot aspirador inteligente con navegación láser, mapeo inteligente, control por app, limpieza programable y carga automática. Ideal para todo tipo de pisos.', 'https://i.postimg.cc/C1RrX0JY/61-EFQ6f0-Xx-L-AC-UF1000-1000-QL80-FMwebp.webp')">
                    <span class="discount-badge">-33%</span>
                </div>
                <div class="p-3">
                    <h3 class="font-semibold text-sm line-clamp-2">Robot Aspirador Inteligente</h3>
                    <div class="flex items-center mt-1">
                        <span class="price-tag text-lg">$120</span>
                        <span class="text-xs text-gray-500 line-through ml-2">$180</span>
                    </div>
                    <div class="flex items-center mt-1">
                        <div class="flex text-yellow-400 text-xs">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                        </div>
                        <span class="text-xs text-gray-500 ml-1">(112)</span>
                    </div>
                    <button onclick="addToCart('Robot Aspirador Inteligente', 120, 'https://i.postimg.cc/C1RrX0JY/61-EFQ6f0-Xx-L-AC-UF1000-1000-QL80-FMwebp.webp')" class="add-to-cart-btn text-white w-full py-2 rounded-lg mt-3 text-sm font-medium flex items-center justify-center">
                        <i class="fas fa-shopping-cart mr-2"></i> Añadir
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Daily Deals Section -->
    <div class="container mx-auto px-4 mt-8">
        <h2 class="text-xl font-bold mb-4 flex items-center">
            <i class="fas fa-bolt text-yellow-500 mr-2"></i> Ofertas del Día
        </h2>
        <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4">
            <!-- Deal 1 -->
            <div class="product-card bg-white relative">
                <div class="absolute top-0 left-0 bg-red-500 text-white text-xs font-bold px-2 py-1">OFERTA</div>
                <div class="p-4 h-40 flex items-center justify-center">
                    <img src="https://m.media-amazon.com/images/I/61bK6PMOC3L._AC_UF1000,1000_QL80_.jpg" alt="Mi Band 8" class="max-h-full object-contain cursor-pointer" onclick="openProductModal('Xiaomi Mi Band 8 Smart Band', 35, 45, 'Xiaomi Mi Band 8 con pantalla AMOLED de 1.62", hasta 16 días de batería, monitoreo de actividad física, frecuencia cardíaca, SpO2 y más de 150 modos deportivos.', 'https://m.media-amazon.com/images/I/61bK6PMOC3L._AC_UF1000,1000_QL80_.jpg')">
                </div>
                <div class="p-3 border-t">
                    <h3 class="font-semibold text-sm line-clamp-2">Xiaomi Mi Band 8 Smart Band</h3>
                    <div class="flex items-center mt-1">
                        <span class="price-tag text-lg">$35</span>
                        <span class="text-xs text-gray-500 line-through ml-2">$45</span>
                    </div>
                    <button onclick="addToCart('Xiaomi Mi Band 8 Smart Band', 35, 'https://m.media-amazon.com/images/I/61bK6PMOC3L._AC_UF1000,1000_QL80_.jpg')" class="add-to-cart-btn text-white w-full py-2 rounded-lg mt-3 text-sm font-medium flex items-center justify-center">
                        <i class="fas fa-shopping-cart mr-2"></i> Añadir
                    </button>
                </div>
            </div>
            
            <!-- Deal 2 -->
            <div class="product-card bg-white relative">
                <div class="absolute top-0 left-0 bg-red-500 text-white text-xs font-bold px-2 py-1">OFERTA</div>
                <div class="p-4 h-40 flex items-center justify-center">
                    <img src="https://i.postimg.cc/yxZPYpgm/71n6w-u1-TVL-AC-UF894-1000-QL80.jpg" alt="Mochila" class="max-h-full object-contain cursor-pointer" onclick="openProductModal('Mochila Laptop 15.6" Impermeable', 28, 40, 'Mochila para laptop hasta 15.6" con compartimento acolchado, resistente al agua, múltiples bolsillos organizadores y diseño ergonómico con correas acolchadas.', 'https://i.postimg.cc/yxZPYpgm/71n6w-u1-TVL-AC-UF894-1000-QL80.jpg')">
                </div>
                <div class="p-3 border-t">
                    <h3 class="font-semibold text-sm line-clamp-2">Mochila Laptop 15.6" Impermeable</h3>
                    <div class="flex items-center mt-1">
                        <span class="price-ttag text-lg">$28</span>
                        <span class="text-xs text-gray-500 line-through ml-2">$40</span>
                    </div>
                    <button onclick="addToCart('Mochila Laptop 15.6" Impermeable', 28, 'https://i.postimg.cc/yxZPYpgm/71n6w-u1-TVL-AC-UF894-1000-QL80.jpg')" class="add-to-cart-btn text-white w-full py-2 rounded-lg mt-3 text-sm font-medium flex items-center justify-center">
                        <i class="fas fa-shopping-cart mr-2"></i> Añadir
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- WhatsApp Banner -->
    <div class="bg-gradient-to-r from-green-500 to-green-600 text-white mx-4 my-6 rounded-lg p-4 flex items-center justify-between">
        <div class="flex items-center">
            <i class="fab fa-whatsapp text-3xl mr-2"></i>
            <div>
                <h3 class="font-bold">¿Necesitas ayuda?</h3>
                <p class="text-sm">Chatea con nosotros en WhatsApp</p>
            </div>
        </div>
        <a href="https://wa.me/5353040553" class="bg-white text-green-600 px-4 py-2 rounded-lg font-semibold text-sm flex items-center hover:bg-gray-100 transition-colors">
            <i class="fab fa-whatsapp mr-2"></i> Chatear
        </a>
    </div>

    <!-- Bottom Navigation -->
    <nav class="bottom-nav fixed bottom-0 left-0 right-0 z-40">
        <div class="flex justify-around items-center py-2">
            <a href="#" class="nav-item flex flex-col items-center text-indigo-600">
                <i class="fas fa-home text-xl"></i>
                <span class="text-xs mt-1">Inicio</span>
            </a>
            <a href="#" class="nav-item flex flex-col items-center text-gray-500">
                <i class="fas fa-search text-xl"></i>
                <span class="text-xs mt-1">Buscar</span>
            </a>
            <a href="#" class="nav-item flex flex-col items-center text-gray-500">
                <i class="fas fa-shopping-bag text-xl"></i>
                <span class="text-xs mt-1">Pedidos</span>
            </a>
            <a href="#" class="nav-item flex flex-col items-center text-gray-500">
                <i class="fas fa-user text-xl"></i>
                <span class="text-xs mt-1">Cuenta</span>
            </a>
        </div>
    </nav>

    <!-- Shopping Cart Modal -->
    <div id="cartModal" class="fixed inset-0 z-50 hidden">
        <div class="modal-overlay absolute w-full h-full"></div>
        <div class="absolute bottom-0 w-full bg-white rounded-t-xl shadow-xl max-h-[80vh] overflow-y-auto">
            <div class="p-4 border-b sticky top-0 bg-white z-10 flex justify-between items-center">
                <h3 class="font-bold text-lg" id="cartTitle">Carrito de Compras (0)</h3>
                <button id="closeCartModal" class="text-gray-500">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="p-4 space-y-4" id="cartItemsContainer">
                <!-- Cart items will be dynamically inserted here -->
                <div class="text-center py-10">
                    <i class="fas fa-shopping-cart text-4xl text-gray-300 mb-3"></i>
                    <p class="text-gray-500">Tu carrito está vacío</p>
                </div>
            </div>
            
            <div class="p-4 bg-gray-50" id="cartSummary">
                <div class="flex justify-between mb-2">
                    <span class="font-medium">Subtotal</span>
                    <span class="price-tag" id="subtotal">$0</span>
                </div>
                <div class="flex justify-between mb-4">
                    <span class="font-medium">Envío</span>
                    <span id="shipping">$0</span>
                </div>
                <div class="flex justify-between border-t border-gray-200 pt-3 mb-4">
                    <span class="font-bold">Total</span>
                    <span class="price-tag font-bold" id="total">$0</span>
                </div>
                
                <div class="space-y-2">
                    <button id="checkoutBtn" class="w-full bg-indigo-600 text-white py-3 rounded-lg font-medium">
                        Procesar Compra
                    </button>
                    <a href="https://wa.me/5353040553" class="block w-full border border-indigo-600 text-indigo-600 py-3 rounded-lg font-medium text-center">
                        <i class="fab fa-whatsapp mr-2"></i> Preguntar por WhatsApp
                    </a>
                </div>
            </div>
        </div>
    </div>

    <!-- Product Details Modal -->
    <div id="productModal" class="fixed inset-0 z-50 hidden">
        <div class="modal-overlay absolute w-full h-full"></div>
        <div class="absolute bottom-0 w-full bg-white rounded-t-xl shadow-xl max-h-[90vh] overflow-y-auto">
            <div class="p-4 border-b sticky top-0 bg-white z-10 flex justify-between items-center">
                <button id="closeProductModal" class="text-gray-500">
                    <i class="fas fa-arrow-left"></i>
                </button>
            </div>
            
            <div class="p-4">
                <div class="flex justify-center mb-4">
                    <img id="productModalImage" class="product-details-img" src="" alt="Product Image">
                </div>
                
                <div class="flex justify-between items-start">
                    <div>
                        <h3 class="font-bold text-lg" id="productModalName">Nombre del Producto</h3>
                        <div class="flex items-center">
                            <div class="flex text-yellow-400 text-xs mt-1">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star-half-alt"></i>
                            </div>
                            <span class="text-xs text-gray-500 ml-1 mt-1">(128)</span>
                        </div>
                    </div>
                    <div class="text-right">
                        <div class="price-tag font-bold text-xl" id="productModalPrice">$0</div>
                        <div class="text-xs text-gray-500 line-through" id="productModalOldPrice">$0</div>
                    </div>
                </div>
                
                <div class="mt-6">
                    <h4 class="font-semibold mb-2">Descripción</h4>
                    <p class="text-gray-600 text-sm" id="productModalDescription">Descripción detallada del producto.</p>
                </div>
                
                <div class="mt-8 grid grid-cols-2 gap-4">
                    <button class="border border-indigo-600 text-indigo-600 py-3 rounded-lg font-medium flex items-center justify-center">
                        <i class="far fa-heart mr-2"></i> Guardar
                    </button>
                    <button class="bg-indigo-600 text-white py-3 rounded-lg font-medium" id="addToCartFromModal">
                        Añadir al carrito
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Checkout Form Modal -->
    <div id="checkoutModal" class="fixed inset-0 z-50 hidden">
        <div class="modal-overlay absolute w-full h-full"></div>
        <div class="absolute bottom-0 w-full bg-white rounded-t-xl shadow-xl max-h-[90vh] overflow-y-auto">
            <div class="p-4 border-b sticky top-0 bg-white z-10 flex justify-between items-center">
                <h3 class="font-bold text-lg">Completar Compra</h3>
                <button id="closeCheckoutModal" class="text-gray-500">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="p-4">
                <form id="checkoutForm">
                    <div class="mb-4">
                        <label for="name" class="block text-sm font-medium text-gray-700 mb-1">Nombre Completo</label>
                        <input type="text" id="name" name="name" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500">
                    </div>
                    
                    <div class="mb-4">
                        <label for="phone" class="block text-sm font-medium text-gray-700 mb-1">Teléfono</label>
                        <input type="tel" id="phone" name="phone" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500">
                    </div>
                    
                    <div class="mb-4">
                        <label for="deliveryLocation" class="block text-sm font-medium text-gray-700 mb-1">Lugar de Entrega</label>
                        <select id="deliveryLocation" name="deliveryLocation" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500">
                            <option value="" disabled selected>Seleccione un lugar</option>
                            <option value="Habana Centro">Habana Centro</option>
                            <option value="Habana Vieja">Habana Vieja</option>
                            <option value="Vedado">Vedado</option>
                            <option value="Playa">Playa</option>
                            <option value="Miramar">Miramar</option>
                            <option value="Cerro">Cerro</option>
                            <option value="Marianao">Marianao</option>
                            <option value="Boyeros">Boyeros</option>
                        </select>
                    </div>
                    
                    <div class="mb-4">
                        <label for="address" class="block text-sm font-medium text-gray-700 mb-1">Dirección</label>
                        <textarea id="address" name="address" rows="2" required class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"></textarea>
                    </div>
                    
                    <div class="mb-4">
                        <label for="reference" class="block text-sm font-medium text-gray-700 mb-1">Punto de Referencia</label>
                        <input type="text" id="reference" name="reference" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500" placeholder="Ej: Cerca del parque, casa verde, etc.">
                    </div>
                    
                    <div class="mt-6">
                        <h4 class="font-semibold mb-2">Resumen del Pedido</h4>
                        <div id="orderSummary" class="border rounded-lg p-3 bg-gray-50 mb-4">
                            <!-- Order items will be inserted here -->
                        </div>
                        
                        <div class="flex justify-between border-t border-gray-200 pt-3 mb-4">
                            <span class="font-bold">Total</span>
                            <span class="price-tag font-bold" id="checkoutTotalPrice">$0</span>
                        </div>
                    </div>
                    
                    <button type="submit" class="w-full bg-indigo-600 text-white py-3 rounded-lg font-medium mt-4">
                        <i class="fab fa-whatsapp mr-2"></i> Enviar Pedido por WhatsApp
                    </button>
                </form>
            </div>
        </div>
    </div>
<!--Página de bienvenida-->
<!-- Página de bienvenida corregida -->
<div id="welcomeOverlay" class="fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-9999 hidden">
    <div class="relative w-11/12 max-w-2xl h-96 overflow-hidden rounded-xl bg-white flex flex-col items-center">
        <button id="prevButton" class="absolute left-2 top-1/2 transform -translate-y-1/2 z-10 bg-white bg-opacity-80 text-indigo-600 w-8 h-8 rounded-full flex items-center justify-center">
            ◀
        </button>
        
        <div id="carouselImages" class="flex w-full h-80 transition-transform duration-500">
            <div class="min-w-full flex justify-center">
                <img src="https://i.postimg.cc/LX0700FL/Post-de-Facebook-Reparaci-n-de-Celulares-Tecnol-gico-Azul-1.png" 
                     class="h-full object-contain" alt="Promoción 1">
            </div>
            <div class="min-w-full flex justify-center">
                <img src="https://i.postimg.cc/SxHhNh6m/Grid-Art-20250503-150709482.jpg" 
                     class="h-full object-contain" alt="Promoción 2">
            </div>
            <div class="min-w-full flex justify-center">
                <img src="https://i.postimg.cc/jjyDQvvY/Grid-Art-20250503-145123805.jpg" 
                     class="h-full object-contain" alt="Promoción 3">
            </div>
        </div>
        
        <button id="nextButton" class="absolute right-2 top-1/2 transform -translate-y-1/2 z-10 bg-white bg-opacity-80 text-indigo-600 w-8 h-8 rounded-full flex items-center justify-center">
            ▶
        </button>
        
        <button id="closeButton" class="mt-4 bg-red-600 text-white px-6 py-2 rounded-lg">
            Cerrar
        </button>
    </div>
</div>
<script>
// Mostrar la página de bienvenida al cargar
document.addEventListener('DOMContentLoaded', function() {
    const welcomeOverlay = document.getElementById('welcomeOverlay');
    welcomeOverlay.classList.remove('hidden');
    
    let currentIndex = 0;
    const images = document.querySelectorAll('#carouselImages > div');
    const totalImages = images.length;
    const carouselImages = document.getElementById('carouselImages');
    
    function showNextImage() {
        currentIndex = (currentIndex + 1) % totalImages;
        carouselImages.style.transform = `translateX(-${currentIndex * 100}%)`;
    }

    function showPrevImage() {
        currentIndex = (currentIndex - 1 + totalImages) % totalImages;
        carouselImages.style.transform = `translateX(-${currentIndex * 100}%)`;
    }

    // Configurar event listeners
    document.getElementById('prevButton').addEventListener('click', showPrevImage);
    document.getElementById('nextButton').addEventListener('click', showNextImage);
    document.getElementById('closeButton').addEventListener('click', function() {
        welcomeOverlay.classList.add('hidden');
    });

    // Auto deslizamiento
    let autoSlideInterval = setInterval(showNextImage, 3000);
    
    // Detener auto deslizamiento al interactuar
    const carouselContainer = document.querySelector('#welcomeOverlay > div');
    carouselContainer.addEventListener('mouseenter', () => clearInterval(autoSlideInterval));
    carouselContainer.addEventListener('mouseleave', () => {
        autoSlideInterval = setInterval(showNextImage, 3000);
    });

    // Cerrar automáticamente después de 10 segundos
    setTimeout(() => {
        welcomeOverlay.classList.add('hidden');
    }, 10000);
});
</script>
<script>
// Configuración de moneda
let selectedCurrency = localStorage.getItem('selectedCurrency') || 'USD';
const exchangeRates = {
    'USD': 1,
    'CUP': 400,
    'CUPT': 440
};
const currencySymbols = {
    'USD': '$',
    'CUP': '$',
    'CUPT': '$'
};
const currencyNames = {
    'USD': 'USD',
    'CUP': 'CUP',
    'CUPT': 'CUP Transferencia'
};

// Carrito de compras
let cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];
let currentProductModal = null;

// Inicializar selector de moneda
function initCurrencySelector() {
    const currencySelector = document.getElementById('currencySelector');
    const currencyOptions = document.getElementById('currencyOptions');
    const currentCurrency = document.getElementById('currentCurrency');
    
    // Establecer moneda actual
    currentCurrency.textContent = selectedCurrency === 'CUP_TRANSFER' ? 'CUP Transf' : selectedCurrency;
    
    // Mostrar/ocultar opciones
    currencySelector.addEventListener('click', function(e) {
        e.stopPropagation();
        currencyOptions.classList.toggle('show');
    });
    
    // Seleccionar opción
    document.querySelectorAll('.currency-option').forEach(option => {
        option.addEventListener('click', function() {
            const currency = this.getAttribute('data-currency');
            selectCurrency(currency);
            currencyOptions.classList.remove('show');
        });
    });
    
    // Cerrar al hacer clic fuera
    document.addEventListener('click', function(e) {
        if (!currencySelector.contains(e.target) && !currencyOptions.contains(e.target)) {
            currencyOptions.classList.remove('show');
        }
    });
    
    // Actualizar opciones activas
    document.querySelectorAll('.currency-option').forEach(option => {
        if (option.getAttribute('data-currency') === selectedCurrency) {
            option.classList.add('active');
        } else {
            option.classList.remove('active');
        }
    });
}

// Cambiar moneda
function selectCurrency(currency) {
    selectedCurrency = currency;
    localStorage.setItem('selectedCurrency', currency);
    
    // Actualizar interfaz
    document.getElementById('currentCurrency').textContent = 
        currency === 'CUP_TRANSFER' ? 'CUP Transf' : currency;
    
    // Actualizar opciones activas
    document.querySelectorAll('.currency-option').forEach(option => {
        if (option.getAttribute('data-currency') === currency) {
            option.classList.add('active');
        } else {
            option.classList.remove('active');
        }
    });
    
    // Actualizar todos los precios en la página
    updateAllPrices();
    
    // Si el carrito está abierto, actualizarlo
    if (!document.getElementById('cartModal').classList.contains('hidden')) {
        updateCartModal();
    }
}

// Formatear precio según la moneda seleccionada
function formatPrice(priceInUSD) {
    const convertedPrice = priceInUSD * exchangeRates[selectedCurrency];
    const symbol = currencySymbols[selectedCurrency];
    
    // Para precios en CUP, mostrar sin decimales
    if (selectedCurrency !== 'USD') {
        return `${symbol}${Math.round(convertedPrice)}`;
    }
    
    return `${symbol}${convertedPrice}`;
}

// Obtener el nombre de la moneda para mostrar
function getCurrencyName() {
    return currencyNames[selectedCurrency];
}

// Actualizar todos los precios en la página
function updateAllPrices() {
    // Actualizar precios en tarjetas de productos
    document.querySelectorAll('.price-tag').forEach(element => {
        const usdPrice = parseFloat(element.getAttribute('data-usd-price'));
        if (!isNaN(usdPrice)) {
            element.textContent = formatPrice(usdPrice);
        }
    });
    
    // Actualizar precios tachados
    document.querySelectorAll('.text-gray-500.line-through').forEach(element => {
        const usdPrice = parseFloat(element.getAttribute('data-usd-price'));
        if (!isNaN(usdPrice)) {
            element.textContent = formatPrice(usdPrice);
        }
    });
    
    // Actualizar precios en el modal de producto si está abierto
    if (!document.getElementById('productModal').classList.contains('hidden')) {
        const modalPrice = document.getElementById('productModalPrice');
        const modalOldPrice = document.getElementById('productModalOldPrice');
        
        if (modalPrice && modalPrice.getAttribute('data-usd-price')) {
            const usdPrice = parseFloat(modalPrice.getAttribute('data-usd-price'));
            modalPrice.textContent = formatPrice(usdPrice);
        }
        
        if (modalOldPrice && modalOldPrice.getAttribute('data-usd-price')) {
            const usdPrice = parseFloat(modalOldPrice.getAttribute('data-usd-price'));
            modalOldPrice.textContent = formatPrice(usdPrice);
        }
    }
    
    // Actualizar precios en badges de descuento
    document.querySelectorAll('.discount-badge').forEach(badge => {
        const originalPrice = parseFloat(badge.getAttribute('data-original-usd'));
        const discountPrice = parseFloat(badge.getAttribute('data-discount-usd'));
        
        if (!isNaN(originalPrice) && !isNaN(discountPrice)) {
            const discountPercent = Math.round((1 - discountPrice / originalPrice) * 100);
            badge.textContent = `-${discountPercent}%`;
        }
    });
}

// MODIFICAR LA FUNCIÓN updateCartModal PARA USAR LA MONEDA SELECCIONADA
function updateCartModal() {
    const container = document.getElementById('cartItemsContainer');
    const cartTitle = document.getElementById('cartTitle');
    const subtotalElement = document.getElementById('subtotal');
    const totalElement = document.getElementById('total');
    const shippingElement = document.getElementById('shipping');
    
    const totalItems = cartItems.reduce((total, item) => total + item.quantity, 0);
    cartTitle.textContent = `Carrito de Compras (${totalItems})`;
    
    // Calculate subtotal
    const subtotal = cartItems.reduce((sum, item) => sum + (item.price * item.quantity), 0);
    subtotalElement.textContent = formatPrice(subtotal);
    
    // Calculate shipping (free if over $200)
    let shipping = subtotal >= 200 ? 0 : 50;
    shippingElement.textContent = shipping === 0 ? 'GRATIS' : formatPrice(shipping);
    
    // Calculate total
    const total = subtotal + shipping;
    totalElement.textContent = formatPrice(total);
    
    // Clear container
    container.innerHTML = '';
    
    if (cartItems.length === 0) {
        container.innerHTML = `
            <div class="text-center py-10">
                <i class="fas fa-shopping-cart text-4xl text-gray-300 mb-3"></i>
                <p class="text-gray-500">Tu carrito está vacío</p>
            </div>
        `;
        document.getElementById('cartSummary').classList.add('hidden');
    } else {
        document.getElementById('cartSummary').classList.remove('hidden');
        
        // Add each item to the container
        cartItems.forEach((item, index) => {
            const itemElement = document.createElement('div');
            itemElement.className = 'flex items-center space-x-4 border-b pb-3';
            itemElement.innerHTML = `
                <div class="w-20 h-20 bg-gray-100 rounded-lg flex items-center justify-center">
                    <img src="${item.image}" alt="${item.name}" class="max-h-full max-w-full">
                </div>
                <div class="flex-1">
                    <h4 class="font-medium text-sm line-clamp-1">${item.name}</h4>
                    <div class="flex justify-between items-center mt-1">
                        <span class="price-tag text-sm">${formatPrice(item.price)}</span>
                        <div class="flex items-center space-x-2">
                            <button class="quantity-btn decrease" data-index="${index}">
                                <i class="fas fa-minus text-xs"></i>
                            </button>
                            <span class="text-sm">${item.quantity}</span>
                            <button class="quantity-btn increase" data-index="${index}">
                                <i class="fas fa-plus text-xs"></i>
                            </button>
                        </div>
                    </div>
                </div>
                <button class="text-gray-400 remove" data-index="${index}">
                    <i class="fas fa-trash-alt"></i>
                </button>
            `;
            container.appendChild(itemElement);
        });
        
        // Add event listeners to quantity buttons and remove buttons
        document.querySelectorAll('.decrease').forEach(button => {
            button.addEventListener('click', (e) => {
                const index = e.target.closest('button').getAttribute('data-index');
                decreaseQuantity(index);
            });
        });
        
        document.querySelectorAll('.increase').forEach(button => {
            button.addEventListener('click', (e) => {
                const index = e.target.closest('button').getAttribute('data-index');
                increaseQuantity(index);
            });
        });
        
        document.querySelectorAll('.remove').forEach(button => {
            button.addEventListener('click', (e) => {
                const index = e.target.closest('button').getAttribute('data-index');
                removeFromCart(index);
            });
        });
    }
    
    // Update checkout button based on cart contents
    const checkoutBtn = document.getElementById('checkoutBtn');
    if (cartItems.length === 0) {
        checkoutBtn.disabled = true;
    } else {
        checkoutBtn.disabled = false;
    }
}

// MODIFICAR LA FUNCIÓN openProductModal PARA USAR LA MONEDA SELECCIONADA
function openProductModal(name, price, oldPrice, description, image) {
    document.getElementById('productModalName').textContent = name;
    document.getElementById('productModalPrice').textContent = formatPrice(price);
    document.getElementById('productModalImage').src = image;
    document.getElementById('productModalDescription').textContent = description;
    
    if (oldPrice && oldPrice > price) {
        document.getElementById('productModalOldPrice').textContent = formatPrice(oldPrice);
        document.getElementById('productModalOldPrice').classList.remove('hidden');
    } else {
        document.getElementById('productModalOldPrice').classList.add('hidden');
    }
    
    // Store current product info for the add to cart button
    currentProductModal = {
        name,
        price,
        image
    };
    
    document.getElementById('productModal').classList.remove('hidden');
}

// FUNCIÓN openCheckoutModal
function openCheckoutModal() {
    const orderSummary = document.getElementById('orderSummary');
    const checkoutTotalPrice = document.getElementById('checkoutTotalPrice');
    
    // Calculate subtotal and shipping
    const subtotal = cartItems.reduce((sum, item) => sum + (item.price * item.quantity), 0);
    const shipping = subtotal >= 200 ? 0 : 50;
    const total = subtotal + shipping;
    
    // Update order summary
    orderSummary.innerHTML = '';
    cartItems.forEach(item => {
        const itemElement = document.createElement('div');
        itemElement.className = 'flex justify-between mb-2';
        itemElement.innerHTML = `
            <span>${item.name} x${item.quantity}</span>
            <span class="price-tag">${formatPrice(item.price * item.quantity)}</span>
        `;
        orderSummary.appendChild(itemElement);
    });
    
    // Add subtotal and shipping
    const subtotalElement = document.createElement('div');
    subtotalElement.className = 'flex justify-between border-t border-gray-200 pt-2 mt-2';
    subtotalElement.innerHTML = `
        <span>Subtotal</span>
        <span>${formatPrice(subtotal)}</span>
    `;
    orderSummary.appendChild(subtotalElement);
    
    const shippingElement = document.createElement('div');
    shippingElement.className = 'flex justify-between';
    shippingElement.innerHTML = `
        <span>Envío</span>
        <span>${shipping === 0 ? 'GRATIS' : formatPrice(shipping)}</span>
    `;
    orderSummary.appendChild(shippingElement);
    
    // Update total
    checkoutTotalPrice.textContent = formatPrice(total);
    
    // Open modal
    document.getElementById('checkoutModal').classList.remove('hidden');
}

// CORREGIR EL ENVÍO A WHATSAPP
document.getElementById('checkoutForm').addEventListener('submit', (e) => {
    e.preventDefault();
    
    const name = document.getElementById('name').value;
    const phone = document.getElementById('phone').value;
    const deliveryLocation = document.getElementById('deliveryLocation').value;
    const address = document.getElementById('address').value;
    const reference = document.getElementById('reference').value;
    
    // Calculate subtotal and shipping
    const subtotal = cartItems.reduce((sum, item) => sum + (item.price * item.quantity), 0);
    const shipping = subtotal >= 200 ? 0 : 50;
    const total = subtotal + shipping;
    
    // Create WhatsApp message - CORREGIDO
    let message = `¡Hola! Quiero realizar un pedido:%0A%0A`;
    message += `*Nombre:* ${encodeURIComponent(name)}%0A`;
    message += `*Teléfono:* ${encodeURIComponent(phone)}%0A`;
    message += `*Lugar de entrega:* ${encodeURIComponent(deliveryLocation)}%0A`;
    message += `*Dirección:* ${encodeURIComponent(address)}%0A`;
    message += `*Punto de referencia:* ${encodeURIComponent(reference || 'Ninguno')}%0A%0A`;
    message += `*Moneda:* ${encodeURIComponent(getCurrencyName())}%0A`;
    message += `*Detalles del pedido:*%0A`;
    
    // Asegurarse de que todos los productos se incluyan en el mensaje
    cartItems.forEach(item => {
        message += `- ${encodeURIComponent(item.name)} x${encodeURIComponent(item.quantity)} (${encodeURIComponent(formatPrice(item.price * item.quantity))})%0A`;
    });
    
    message += `%0A*Subtotal:* ${encodeURIComponent(formatPrice(subtotal))}%0A`;
    message += `*Envío:* ${encodeURIComponent(shipping === 0 ? 'GRATIS' : formatPrice(shipping))}%0A`;
    message += `*Total:* ${encodeURIComponent(formatPrice(total))}%0A%0A`;
    message += `¡Gracias!`;
    
    // Open WhatsApp with the message
    window.open(`https://wa.me/5353040553?text=${message}`, '_blank');
    
    // Show notification
    showNotification('Pedido enviado por WhatsApp');
    
    // Close modals
    document.getElementById('checkoutModal').classList.add('hidden');
    document.getElementById('cartModal').classList.add('hidden');
    
    // Clear cart
    cartItems = [];
    localStorage.setItem('cartItems', JSON.stringify(cartItems));
    updateCartBadge();
});

// Funciones del carrito
function addToCart(productName, productPrice, productImage) {
    // Check if product already exists in cart
    const existingProductIndex = cartItems.findIndex(item => item.name === productName);
    
    if (existingProductIndex >= 0) {
        // Increase quantity if product already in cart
        cartItems[existingProductIndex].quantity += 1;
    } else {
        // Add new product to cart
        cartItems.push({
            name: productName,
            price: productPrice,
            image: productImage,
            quantity: 1
        });
    }
    
    // Save to local storage
    localStorage.setItem('cartItems', JSON.stringify(cartItems));
    
    // Update cart badge
    updateCartBadge();
    
    // Show notification
    showNotification(`${productName} añadido al carrito`);
    
    // Update cart modal if it's open
    if (!document.getElementById('cartModal').classList.contains('hidden')) {
        updateCartModal();
    }
}

function updateCartBadge() {
    const cartBadge = document.getElementById('cartBadge');
    const totalItems = cartItems.reduce((total, item) => total + item.quantity, 0);
    
    if (totalItems > 0) {
        cartBadge.textContent = totalItems;
        cartBadge.classList.remove('hidden');
    } else {
        cartBadge.classList.add('hidden');
    }
}

function decreaseQuantity(index) {
    if (cartItems[index]) {
        if (cartItems[index].quantity > 1) {
            cartItems[index].quantity -= 1;
        } else {
            cartItems.splice(index, 1);
        }
        localStorage.setItem('cartItems', JSON.stringify(cartItems));
        updateCartBadge();
        updateCartModal();
    }
}

function increaseQuantity(index) {
    if (cartItems[index]) {
        cartItems[index].quantity += 1;
        localStorage.setItem('cartItems', JSON.stringify(cartItems));
        updateCartBadge();
        updateCartModal();
    }
}

function removeFromCart(index) {
    if (cartItems[index]) {
        cartItems.splice(index, 1);
        localStorage.setItem('cartItems', JSON.stringify(cartItems));
        updateCartBadge();
        updateCartModal();
    }
}

function showNotification(message) {
    const notification = document.createElement('div');
    notification.className = 'fixed top-20 left-1/2 transform -translate-x-1/2 bg-green-500 text-white px-4 py-2 rounded-lg shadow-lg z-50 animate-fade-in-out';
    notification.textContent = message;
    document.body.appendChild(notification);
    
    setTimeout(() => {
        notification.classList.add('animate-fade-out');
        setTimeout(() => notification.remove(), 300);
    }, 3000);
}

// Funciones del carousel
let currentSlide = 0;
const slides = document.querySelectorAll('.carousel-slide > div');
const totalSlides = slides.length;
const indicators = document.querySelectorAll('.indicator');

function updateCarousel() {
    const offset = -currentSlide * 100;
    document.querySelector('.carousel-slide').style.transform = `translateX(${offset}%)`;
    
    // Update indicators
    indicators.forEach((indicator, index) => {
        if (index === currentSlide) {
            indicator.classList.add('active');
            indicator.classList.remove('bg-opacity-50');
        } else {
            indicator.classList.remove('active');
            indicator.classList.add('bg-opacity-50');
        }
    });
}

// Funciones de filtrado de productos
function filterProducts(category) {
    // Update category navigation buttons
    document.querySelectorAll('.category-item').forEach(item => {
        item.classList.remove('active');
        item.classList.remove('text-indigo-300');
    });
    
    const activeButton = document.querySelector(`button[onclick="filterProducts('${category}')"]`);
    activeButton.classList.add('active');
    activeButton.classList.add('text-indigo-300');
    activeButton.classList.add('filter-active');
    
    // Update category title
    const categoryTitles = {
        'all': 'Todos los Productos',
        'phones': 'Teléfonos',
        'laptops': 'Laptops',
        'watches': 'Smartwatches',
        'accessories': 'Accesorios',
        'home': 'Hogar',
        'electronics': 'Electrónica'
    };
    
    document.getElementById('currentCategory').textContent = categoryTitles[category] || categoryTitles['all'];
    
    // Filter products
    const products = document.querySelectorAll('.product-item');
    let hasVisibleProducts = false;
    
    products.forEach(product => {
        if (category === 'all' || product.getAttribute('data-category') === category) {
            product.style.display = 'block';
            product.classList.add('product-item-visible');
            hasVisibleProducts = true;
        } else {
            product.style.display = 'none';
            product.classList.remove('product-item-visible');
        }
    });
    
    // If no products found for category, show a message
    if (!hasVisibleProducts && category !== 'all') {
        document.getElementById('productsContainer').innerHTML = `
            <div class="col-span-full text-center py-10">
                <i class="fas fa-box-open text-4xl text-gray-300 mb-3"></i>
                <h3 class="text-lg font-medium text-gray-500">No hay productos en esta categoría</h3>
            </div>
        `;
    }
    
    // Scroll to top of products
    document.getElementById('productsContainer').scrollIntoView({ behavior: 'smooth' });
}

// Animación para el texto deslizante suave
function initTextSlider() {
    const texts = document.querySelectorAll('.sliding-text');
    let currentIndex = 0;

    setInterval(() => {
        texts[currentIndex].classList.remove('active');
        currentIndex = (currentIndex + 1) % texts.length;
        texts[currentIndex].classList.add('active');
    }, 3500); // Cambiar cada 3.5 segundos para mejor legibilidad
}

// INICIALIZACIÓN - AL FINAL DEL SCRIPT
document.addEventListener('DOMContentLoaded', function() {
    // Inicializar el selector de moneda
    initCurrencySelector();
    updateAllPrices();
    
    // Añadir atributos data-usd-price a todos los elementos de precio
    document.querySelectorAll('.price-tag').forEach(element => {
        const priceText = element.textContent.replace('$', '');
        const priceValue = parseFloat(priceText);
        if (!isNaN(priceValue)) {
            element.setAttribute('data-usd-price', priceValue);
        }
    });
    
    // Añadir atributos data-usd-price a los precios tachados
    document.querySelectorAll('.text-gray-500.line-through').forEach(element => {
        const priceText = element.textContent.replace('$', '');
        const priceValue = parseFloat(priceText);
        if (!isNaN(priceValue)) {
            element.setAttribute('data-usd-price', priceValue);
        }
    });
    
    // Añadir atributos a los badges de descuento
    document.querySelectorAll('.discount-badge').forEach(badge => {
        const card = badge.closest('.product-card');
        if (card) {
            const currentPriceElem = card.querySelector('.price-tag');
            const oldPriceElem = card.querySelector('.line-through');
            
            if (currentPriceElem && oldPriceElem) {
                const currentPrice = parseFloat(currentPriceElem.getAttribute('data-usd-price'));
                const oldPrice = parseFloat(oldPriceElem.getAttribute('data-usd-price'));
                
                if (!isNaN(currentPrice) && !isNaN(oldPrice)) {
                    badge.setAttribute('data-original-usd', oldPrice);
                    badge.setAttribute('data-discount-usd', currentPrice);
                }
            }
        }
    });

    // Inicializar carousel
    document.getElementById('nextBtn').addEventListener('click', () => {
        currentSlide = (currentSlide + 1) % totalSlides;
        updateCarousel();
    });
    
    document.getElementById('prevBtn').addEventListener('click', () => {
        currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
        updateCarousel();
    });
    
    // Auto slide
    setInterval(() => {
        currentSlide = (currentSlide + 1) % totalSlides;
        updateCarousel();
    }, 5000);
    
    // Inicializar carrito
    updateCartBadge();
    
    // Event listeners del carrito
    document.getElementById('floatingCartBtn').addEventListener('click', () => {
        updateCartModal();
        document.getElementById('cartModal').classList.remove('hidden');
    });
    
    document.getElementById('closeCartModal').addEventListener('click', () => {
        document.getElementById('cartModal').classList.add('hidden');
    });
    
    document.getElementById('closeProductModal').addEventListener('click', () => {
        document.getElementById('productModal').classList.add('hidden');
    });
    
    document.getElementById('addToCartFromModal').addEventListener('click', () => {
        if (currentProductModal) {
            addToCart(currentProductModal.name, currentProductModal.price, currentProductModal.image);
            document.getElementById('productModal').classList.add('hidden');
        }
    });
    
    // AÑADIR EVENT LISTENER PARA EL BOTÓN "PROCESAR COMPRA"
    document.getElementById('checkoutBtn').addEventListener('click', () => {
        if (cartItems.length > 0) {
            openCheckoutModal();
        }
    });
    
    document.getElementById('closeCheckoutModal').addEventListener('click', () => {
        document.getElementById('checkoutModal').classList.add('hidden');
    });
    
    // Inicializar texto deslizante
    initTextSlider();
    
    // Estilos para animaciones
    const style = document.createElement('style');
    style.textContent = `
        @keyframes fade-in-out {
            0% { opacity: 0; transform: translateY(-10px); }
            15%, 85% { opacity: 1; transform: translateY(0); }
            100% { opacity: 0; transform: translateY(-10px); }
        }
        
        .animate-fade-in-out {
            animation: fade-in-out 3s ease-in-out forwards;
        }
        
        @keyframes fade-out {
            to { opacity: 0; transform: translateY(-10px); }
        }
        
        .animate-fade-out {
            animation: fade-out 0.3s ease-in-out forwards;
        }
    `;
    document.head.appendChild(style);
});
</script>
</body>
</html>
